# Force Nixpacks to use uv for Python dependency installation
[phases.setup]
nixPkgs = ["python312", "uv"]

[phases.install]
cmds = ["uv venv /app/.venv && uv pip install -r pyproject.toml"]

[start]
cmd = "/app/.venv/bin/python manage.py migrate && /app/.venv/bin/gunicorn config.wsgi:application --bind 0.0.0.0:$PORT"
